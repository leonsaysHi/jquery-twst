!function(s){s.fn.twst=function(l){var t=s.extend({xscroll:1e3,height:250,theadClass:"thead",tbodyClass:"tbody",rowClass:"trow",cellClass:"tcell",fullwidthcellModifier:"--full",autoScrollClass:"twst__autoscroll",scrollClass:"twst__scroll",scrollViewClass:"twst__scroll__view"},l);return this.each(function(){var l=s(this),o=l.find("."+t.theadClass),a=l.find("."+t.tbodyClass),e=o.find("[class*="+t.cellClass+"--]").not("."+t.autoScrollClass),i=e.filter(function(){return s(this).parent().is("."+t.rowClass)}),r=o.find("."+t.autoScrollClass),n=s("<div/>").addClass(t.autoScrollClass).appendTo(a),c=s("<div/>").addClass(t.scrollClass).appendTo(a),d={},h=[],f=i.length-1;s.each(a.find("."+t.rowClass),function(l,o){var a=s(o),i=a.find("."+t.cellClass),r=s("<div/>").addClass(t.rowClass),n=i;if(i.first().is("."+t.cellClass+t.fullwidthcellModifier)){var u=i.first().removeClass(t.cellClass),C=u.clone().empty();r.append(C),n=n.add(C)}else s.each(i,function(l,t){"undefined"==typeof d["c"+l]&&(d["c"+l]={$from:e.eq(l),$to:s([])});var o=s(t);d["c"+l].$to=d["c"+l].$to.add(o),l>f&&r.append(o)});h.push(n),c.append(r)}),n.append(a.find("> ."+t.rowClass)),d.scrollwidth={$from:r,$to:c},r.wrapInner(s("<div/>").width(t.xscroll)),c.wrapInner(s("<div/>").width(t.xscroll)),c.on("scroll",function(){n.scrollTop(c.scrollTop()),r.scrollLeft(c.scrollLeft())});var u=function(){s.each(d,function(s,l){{var o=l.$from;o.closest("."+t.rowClass)}l.$to.outerWidth(o.outerWidth())})},C=function(){s.each(h,function(l,t){var o=s(t),a=0;s.each(o,function(){a=Math.max(a,s(this).outerHeight())}),o.outerHeight(a)})},w=function(){var l=t.height-o.outerHeight();c.css("max-height",l),n.css("max-height",l);var a=s("<div/>").addClass(t.scrollViewClass);c.append(a),r.outerWidth(a.width()),n.outerHeight(a.height()),a.remove()},p=function(){r.css("width","")};s(window).on("resize",function(){p(),u(),C(),w()}),u(),C(),w()})}}(jQuery);