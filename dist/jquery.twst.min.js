!function(s){s.fn.twst=function(t){var l=s.extend({xscroll:1e3,height:250,theadClass:"thead",tbodyClass:"tbody",rowClass:"trow",cellClass:"tcell",autoScrollClass:"twst__autoscroll",scrollClass:"twst__scroll",scrollViewClass:"twst__scroll__view"},t);return this.each(function(){var t=s(this),o=t.find("."+l.theadClass),a=t.find("."+l.tbodyClass),e=o.find("[class*="+l.cellClass+"--]").not("."+l.autoScrollClass),n=e.filter(function(){return s(this).parent().is("."+l.rowClass)}),r=o.find("."+l.autoScrollClass),i=s("<div/>").addClass(l.autoScrollClass).appendTo(a),c=s("<div/>").addClass(l.scrollClass).appendTo(a),d={},h=[],u=n.length-1;s.each(a.find("."+l.rowClass),function(t,o){var a=s(o),n=a.find("."+l.cellClass),r=s("<div/>").addClass(l.rowClass);h.push(n),s.each(n,function(t,l){"undefined"==typeof d["c"+t]&&(d["c"+t]={$from:e.eq(t),$to:s([])});var o=s(l);d["c"+t].$to=d["c"+t].$to.add(o),t>u&&r.append(o)}),c.append(r)}),i.append(a.find("> ."+l.rowClass)),d.scrollwidth={$from:r,$to:c},r.wrapInner(s("<div/>").width(l.xscroll)),c.wrapInner(s("<div/>").width(l.xscroll)),c.on("scroll",function(){i.scrollTop(c.scrollTop()),r.scrollLeft(c.scrollLeft())});var f=function(){s.each(d,function(s,t){{var o=t.$from;o.closest("."+l.rowClass)}t.$to.outerWidth(o.outerWidth())})},C=function(){s.each(h,function(t,l){var o=s(l),a=0;s.each(o,function(){a=Math.max(a,s(this).outerHeight())}),o.outerHeight(a)})},w=function(){var t=l.height-o.outerHeight();c.css("max-height",t),i.css("max-height",t);var a=s("<div/>").addClass(l.scrollViewClass);c.append(a),r.outerWidth(a.width()),i.outerHeight(a.height()),a.remove()},p=function(){r.css("width","")};s(window).on("resize",function(){p(),f(),C(),w()}),f(),C(),w()})}}(jQuery);