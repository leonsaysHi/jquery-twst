!function(s){s.fn.twst=function(l){var t=s.extend({xscroll:1e3,height:250,theadClass:"thead",tbodyClass:"tbody",rowClass:"trow",cellClass:"tcell",autoScrollClass:"twst__autoscroll",scrollClass:"twst__scroll",scrollViewClass:"twst__scroll__view"},l);return this.each(function(){var l=s(this),o=l.find("."+t.theadClass),a=l.find("."+t.tbodyClass),e=o.find("[class*="+t.cellClass+"--]").not("."+t.autoScrollClass),n=e.filter(function(){return s(this).parent().is("."+t.rowClass)}),i=o.find("."+t.autoScrollClass),r=s("<div/>").addClass(t.autoScrollClass).appendTo(a),c=s("<div/>").addClass(t.scrollClass).appendTo(a),d={},h=[],u=n.length-1;s.each(a.find("."+t.rowClass),function(l,o){var a=s(o),n=a.find("."+t.cellClass),i=s("<div/>").addClass(t.rowClass);h.push(n),s.each(n,function(l,o){"undefined"==typeof d["c"+l]&&(d["c"+l]={$from:e.eq(l),$to:s([])});var a=s(o);a.is("."+t.cellClass+"--full")?i.append(s("<div />")):d["c"+l].$to=d["c"+l].$to.add(a),l>u&&i.append(a)}),c.append(i)}),r.append(a.find("> ."+t.rowClass)),d.scrollwidth={$from:i,$to:c},i.wrapInner(s("<div/>").width(t.xscroll)),c.wrapInner(s("<div/>").width(t.xscroll)),c.on("scroll",function(){r.scrollTop(c.scrollTop()),i.scrollLeft(c.scrollLeft())});var f=function(){s.each(d,function(s,l){{var o=l.$from;o.closest("."+t.rowClass)}l.$to.outerWidth(o.outerWidth())})},C=function(){s.each(h,function(l,t){var o=s(t),a=0;s.each(o,function(){a=Math.max(a,s(this).outerHeight())}),o.outerHeight(a)})},w=function(){var l=t.height-o.outerHeight();c.css("max-height",l),r.css("max-height",l);var a=s("<div/>").addClass(t.scrollViewClass);c.append(a),i.outerWidth(a.width()),r.outerHeight(a.height()),a.remove()},p=function(){i.css("width","")};s(window).on("resize",function(){p(),f(),C(),w()}),f(),C(),w()})}}(jQuery);